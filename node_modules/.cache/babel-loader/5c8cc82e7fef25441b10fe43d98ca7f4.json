{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sungjaejoo/Desktop/\\u1105\\u1175\\u110B\\u1162\\u11A8\\u1110\\u1173/\\u110B\\u1175\\u11AB\\u1110\\u1165\\u1105\\u1169\\u1100\\u1165/\\u1100\\u1175\\u11BA\\u1112\\u1165\\u1107\\u1173/ILP-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sungjaejoo/Desktop/\\u1105\\u1175\\u110B\\u1162\\u11A8\\u1110\\u1173/\\u110B\\u1175\\u11AB\\u1110\\u1165\\u1105\\u1169\\u1100\\u1165/\\u1100\\u1175\\u11BA\\u1112\\u1165\\u1107\\u1173/ILP-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/sungjaejoo/Desktop/\\u1105\\u1175\\u110B\\u1162\\u11A8\\u1110\\u1173/\\u110B\\u1175\\u11AB\\u1110\\u1165\\u1105\\u1169\\u1100\\u1165/\\u1100\\u1175\\u11BA\\u1112\\u1165\\u1107\\u1173/ILP-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useCallback}from\"react\";import AddNoteEn from\"./AddNoteEn\";import{useAppSelector,useAppDispatch}from\"../../store/hooks\";import{useNavigate}from\"react-router-dom\";import{useTranslation}from\"react-i18next\";import NoteListEn from\"./NoteListEn\";var MessageLogFormEn=function MessageLogFormEn(){var reduxUser=useAppSelector(function(state){return state.user;});var dispatch=useAppDispatch();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),note=_useState2[0],setNote=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isbuttonPressed=_useState8[0],setIsbuttonPressed=_useState8[1];var navigate=useNavigate();var _useTranslation=useTranslation(\"main\"),t=_useTranslation.t;var fetchNoteHandlerEn=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data,loadedNotes,key;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);setError(\"\");_context.prev=2;_context.next=5;return fetch(\"https://react-http-2887f-default-rtdb.firebaseio.com/notesen.json\");case 5:response=_context.sent;if(response.ok){_context.next=8;break;}throw new Error(\"Something went wrong!\");case 8:_context.next=10;return response.json();case 10:data=_context.sent;console.log(data);loadedNotes=[];for(key in data){loadedNotes.push({id:key,title:data[key].title,text:data[key].text,date:\"\".concat(data[key].logger,\"  \").concat(t(\"MessageLogFormEn.logMessage\"),\" \").concat(data[key].date,\"....\")});}loadedNotes.reverse();console.log(loadedNotes);setNote(loadedNotes);_context.next=22;break;case 19:_context.prev=19;_context.t0=_context[\"catch\"](2);if(_context.t0 instanceof Error){setError(_context.t0.message);}case 22:setIsLoading(false);case 23:case\"end\":return _context.stop();}}},_callee,null,[[2,19]]);})),[]);function addNoteHandlerEn(_x){return _addNoteHandlerEn.apply(this,arguments);}function _addNoteHandlerEn(){_addNoteHandlerEn=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(note){var response,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://react-http-2887f-default-rtdb.firebaseio.com/notesen.json\",{method:\"POST\",body:JSON.stringify(note),headers:{\"Content-Type\":\"appication/json\"}});case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:data=_context2.sent;console.log(data);alert(t(\"MessageLogFormEn.alert\"));fetchNoteHandlerEn();case 9:case\"end\":return _context2.stop();}}},_callee2);}));return _addNoteHandlerEn.apply(this,arguments);}useEffect(function(){fetchNoteHandlerEn();},[fetchNoteHandlerEn]);var content=/*#__PURE__*/React.createElement(\"p\",{style:{color:\"white\"}},t(\"MessageLogFormEn.alert2\"));if(note.length>0){content=/*#__PURE__*/React.createElement(NoteListEn,{note:note});}if(error){content=/*#__PURE__*/React.createElement(\"p\",{style:{color:\"white\"}},error);}if(isLoading){content=/*#__PURE__*/React.createElement(\"p\",{style:{color:\"white\"}},\"Loading...\");}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"white\"}},t(\"MessageLogFormEn.headerText\"),\" \",reduxUser,\" \"),/*#__PURE__*/React.createElement(\"button\",{onClick:fetchNoteHandlerEn},t(\"MessageLogFormEn.button-update\")),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){setIsbuttonPressed(true);},style:{marginLeft:\"20px\"}},t(\"MessageLogFormEn.button-wrtie\"))),isbuttonPressed&&/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"white\"}},t(\"MessageLogFormEn.logText\")),/*#__PURE__*/React.createElement(AddNoteEn,{AddNote:addNoteHandlerEn,logger:reduxUser,setIsbuttonPressed:setIsbuttonPressed})),/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"white\"}},\"Log\"),content));};export default MessageLogFormEn;","map":{"version":3,"sources":["/Users/sungjaejoo/Desktop/리액트/인터로거/깃허브/ILP-main/src/components/MessageLogForm/MessageLogFormEn.tsx"],"names":["React","useState","useEffect","useCallback","AddNoteEn","useAppSelector","useAppDispatch","useNavigate","useTranslation","NoteListEn","MessageLogFormEn","reduxUser","state","user","dispatch","note","setNote","error","setError","isLoading","setIsLoading","isbuttonPressed","setIsbuttonPressed","navigate","t","fetchNoteHandlerEn","fetch","response","ok","Error","json","data","console","log","loadedNotes","key","push","id","title","text","date","logger","reverse","message","addNoteHandlerEn","method","body","JSON","stringify","headers","alert","content","color","length","marginLeft"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport AddNoteEn from \"./AddNoteEn\";\nimport { useAppSelector, useAppDispatch } from \"../../store/hooks\";\nimport { useNavigate } from \"react-router-dom\";\nimport { usersActions } from \"../../store/userSlice\";\nimport { useTranslation } from \"react-i18next\";\nimport NoteListEn from \"./NoteListEn\";\n\nconst MessageLogFormEn = () => {\n  const reduxUser: string = useAppSelector((state) => state.user);\n  const dispatch = useAppDispatch();\n  const [note, setNote] = useState<\n    { id: string; title: any; text: any; date: string }[]\n  >([]);\n  const [error, setError] = useState<string>(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [isbuttonPressed, setIsbuttonPressed] = useState<boolean>(false);\n  let navigate = useNavigate();\n  const { t } = useTranslation(\"main\");\n\n  const fetchNoteHandlerEn = useCallback(async () => {\n    setIsLoading(true);\n    setError(\"\");\n    try {\n      const response = await fetch(\n        \"https://react-http-2887f-default-rtdb.firebaseio.com/notesen.json\"\n      );\n      if (!response.ok) {\n        throw new Error(\"Something went wrong!\");\n      }\n\n      const data = await response.json();\n      console.log(data);\n      const loadedNotes: { id: string; title: any; text: any; date: string }[] =\n        [];\n      for (const key in data) {\n        loadedNotes.push({\n          id: key,\n          title: data[key].title,\n          text: data[key].text,\n          date: `${data[key].logger}  ${t(`MessageLogFormEn.logMessage`)} ${\n            data[key].date\n          }....`,\n        });\n      }\n      loadedNotes.reverse();\n      console.log(loadedNotes);\n      setNote(loadedNotes);\n    } catch (err) {\n      if (err instanceof Error) {\n        setError(err.message);\n      }\n    }\n    setIsLoading(false);\n  }, []);\n\n  async function addNoteHandlerEn(note: {\n    id?: string;\n    title?: string;\n    text?: string;\n    date?: string;\n  }) {\n    const response = await fetch(\n      \"https://react-http-2887f-default-rtdb.firebaseio.com/notesen.json\",\n      {\n        method: \"POST\",\n        body: JSON.stringify(note),\n        headers: {\n          \"Content-Type\": \"appication/json\",\n        },\n      }\n    );\n    const data = await response.json();\n    console.log(data);\n    alert(t(`MessageLogFormEn.alert`));\n    fetchNoteHandlerEn();\n  }\n\n  useEffect(() => {\n    fetchNoteHandlerEn();\n  }, [fetchNoteHandlerEn]);\n\n  let content = (\n    <p style={{ color: \"white\" }}>{t(`MessageLogFormEn.alert2`)}</p>\n  );\n\n  if (note.length > 0) {\n    content = <NoteListEn note={note} />;\n  }\n\n  if (error) {\n    content = <p style={{ color: \"white\" }}>{error}</p>;\n  }\n\n  if (isLoading) {\n    content = <p style={{ color: \"white\" }}>Loading...</p>;\n  }\n\n  return (\n    <div>\n      <section>\n        <h3 style={{ color: \"white\" }}>\n          {t(`MessageLogFormEn.headerText`)} {reduxUser}{\" \"}\n        </h3>\n        <button onClick={fetchNoteHandlerEn}>\n          {t(`MessageLogFormEn.button-update`)}\n        </button>\n        <button\n          onClick={() => {\n            setIsbuttonPressed(true);\n          }}\n          style={{ marginLeft: \"20px\" }}\n        >\n          {t(`MessageLogFormEn.button-wrtie`)}\n        </button>\n      </section>\n      {isbuttonPressed && (\n        <section>\n          <h3 style={{ color: \"white\" }}>{t(`MessageLogFormEn.logText`)}</h3>\n          <AddNoteEn\n            AddNote={addNoteHandlerEn}\n            logger={reduxUser}\n            setIsbuttonPressed={setIsbuttonPressed}\n          ></AddNoteEn>\n        </section>\n      )}\n      <section>\n        <h3 style={{ color: \"white\" }}>Log</h3>\n        {content}\n      </section>\n    </div>\n  );\n};\n\nexport default MessageLogFormEn;\n"]},"metadata":{},"sourceType":"module"}