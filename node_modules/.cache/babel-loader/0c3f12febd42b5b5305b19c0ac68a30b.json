{"ast":null,"code":"import _slicedToArray from\"/Users/sungjaejoo/Desktop/\\u1105\\u1175\\u110B\\u1162\\u11A8\\u1110\\u1173/\\u110B\\u1175\\u11AB\\u1110\\u1165\\u1105\\u1169\\u1100\\u1165/\\u1100\\u1175\\u11BA\\u1112\\u1165\\u1107\\u1173/ILP-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import MainNavigation from\"./MainNavigation\";import React,{useState}from\"react\";import Box from\"@mui/material/Box\";import SpeedDial from\"@mui/material/SpeedDial\";import SpeedDialIcon from\"@mui/material/SpeedDialIcon\";import SpeedDialAction from\"@mui/material/SpeedDialAction\";import LoginIcon from\"@mui/icons-material/Login\";import LogoutIcon from\"@mui/icons-material/Logout\";import AddToHomeScreenIcon from\"@mui/icons-material/AddToHomeScreen\";import VpnKeyIcon from\"@mui/icons-material/VpnKey\";import{useAppSelector,useAppDispatch}from\"../../store/hooks\";import MessageIcon from\"@mui/icons-material/Message\";import HomeIcon from\"@mui/icons-material/Home\";import{usersActions}from\"../../store/userSlice\";import{useNavigate}from\"react-router-dom\";import{useTranslation}from\"react-i18next\";import DialogUndoingBox from\"./DialogUndoingBox\";import DriveFileRenameOutlineIcon from\"@mui/icons-material/DriveFileRenameOutline\";var Layout=function Layout(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useTranslation=useTranslation(\"main\"),t=_useTranslation.t;var handleOpen=function handleOpen(){return setOpen(true);};var handleClose=function handleClose(){return setOpen(false);};var dispatch=useAppDispatch();var navigate=useNavigate();var reduxUser=useAppSelector(function(state){return state.user;});var reduxIsLoggedIn=useAppSelector(function(state){return state.isLoggedIn;});var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),openBox=_useState4[0],setOpenBox=_useState4[1];var dialogClickHandler=function dialogClickHandler(){setOpenBox(true);};var dialogCloseHandler=function dialogCloseHandler(){setOpenBox(false);};var style={margin:0,top:\"auto\",right:20,bottom:20,left:\"auto\",position:\"fixed\"};var actions=[reduxIsLoggedIn?{icon:/*#__PURE__*/React.createElement(LogoutIcon,null),name:t(\"Layout.iconText-logout\")}:{icon:/*#__PURE__*/React.createElement(LoginIcon,null),name:t(\"Layout.iconText-login\")},!reduxIsLoggedIn?{icon:/*#__PURE__*/React.createElement(AddToHomeScreenIcon,null),name:t(\"Layout.iconText-signin\")}:null,reduxIsLoggedIn?{icon:/*#__PURE__*/React.createElement(VpnKeyIcon,null),name:t(\"Layout.iconText-changepw\")}:null,reduxIsLoggedIn?{icon:/*#__PURE__*/React.createElement(MessageIcon,null),name:t(\"Loginform.input-messageLog\")}:null,reduxIsLoggedIn?{icon:/*#__PURE__*/React.createElement(DriveFileRenameOutlineIcon,null),name:t(\"Layout.iconText-changeNickname\")}:null,reduxIsLoggedIn?{icon:/*#__PURE__*/React.createElement(HomeIcon,null),name:t(\"Loginform.input-home\")}:null].filter(Boolean);var logoutHandler=function logoutHandler(){dispatch(usersActions.updateIdToken(\"\"));dispatch(usersActions.updateIsLoggedIn(false));dispatch(usersActions.updateUser(\"\"));localStorage.removeItem(\"token\");localStorage.removeItem(\"isLoggedIn\");localStorage.removeItem(\"user\");navigate(\"/login\");};console.log(reduxUser);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(MainNavigation,null),/*#__PURE__*/React.createElement(Box,{sx:{flexGrow:1}},/*#__PURE__*/React.createElement(\"main\",null,props.children),/*#__PURE__*/React.createElement(SpeedDial,{ariaLabel:\"SpeedDial tooltip example\",style:style,icon:/*#__PURE__*/React.createElement(SpeedDialIcon,null),onClose:handleClose,onOpen:handleOpen,open:open},actions.map(function(action){return/*#__PURE__*/React.createElement(SpeedDialAction,{key:action===null||action===void 0?void 0:action.name,icon:action===null||action===void 0?void 0:action.icon,tooltipTitle:action===null||action===void 0?void 0:action.name,tooltipOpen:true,onClick:function onClick(){if((action===null||action===void 0?void 0:action.name)===\"LogIn\"||(action===null||action===void 0?void 0:action.name)===\"로그인\"){navigate(\"/login\");}else if((action===null||action===void 0?void 0:action.name)===\"LogOut\"||(action===null||action===void 0?void 0:action.name)===\"로그아웃\"){logoutHandler();}else if((action===null||action===void 0?void 0:action.name)===\"SingIn\"||(action===null||action===void 0?void 0:action.name)===\"가입하기\"){navigate(\"/signin\");}else if((action===null||action===void 0?void 0:action.name)===\"Change Password\"||(action===null||action===void 0?void 0:action.name)===\"비밀번호 변경\"){navigate(\"/changepassword\");}else if((action===null||action===void 0?void 0:action.name)===\"Message Log\"||(action===null||action===void 0?void 0:action.name)===\"메세지 로그\"){navigate(\"/msglog\");}else if((action===null||action===void 0?void 0:action.name)===\"Home\"||(action===null||action===void 0?void 0:action.name)===\"홈\"){navigate(\"/initialpage\");}else if((action===null||action===void 0?void 0:action.name)===\"Undoing Box\"){dialogClickHandler();}else if((action===null||action===void 0?void 0:action.name)===\"닉네임 변경\"||(action===null||action===void 0?void 0:action.name)===\"Change Nickname\"){navigate(\"/updateusername\");}handleClose();}});}))),/*#__PURE__*/React.createElement(DialogUndoingBox,{open:openBox,close:dialogCloseHandler}));};export default Layout;","map":{"version":3,"sources":["/Users/sungjaejoo/Desktop/리액트/인터로거/깃허브/ILP-main/src/components/Layout/Layout.tsx"],"names":["MainNavigation","React","useState","Box","SpeedDial","SpeedDialIcon","SpeedDialAction","LoginIcon","LogoutIcon","AddToHomeScreenIcon","VpnKeyIcon","useAppSelector","useAppDispatch","MessageIcon","HomeIcon","usersActions","useNavigate","useTranslation","DialogUndoingBox","DriveFileRenameOutlineIcon","Layout","props","open","setOpen","t","handleOpen","handleClose","dispatch","navigate","reduxUser","state","user","reduxIsLoggedIn","isLoggedIn","openBox","setOpenBox","dialogClickHandler","dialogCloseHandler","style","margin","top","right","bottom","left","position","actions","icon","name","filter","Boolean","logoutHandler","updateIdToken","updateIsLoggedIn","updateUser","localStorage","removeItem","console","log","flexGrow","children","map","action"],"mappings":"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","sourcesContent":["import MainNavigation from \"./MainNavigation\";\nimport React, { useState } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport SpeedDial from \"@mui/material/SpeedDial\";\nimport SpeedDialIcon from \"@mui/material/SpeedDialIcon\";\nimport SpeedDialAction from \"@mui/material/SpeedDialAction\";\nimport LoginIcon from \"@mui/icons-material/Login\";\nimport LogoutIcon from \"@mui/icons-material/Logout\";\nimport AddToHomeScreenIcon from \"@mui/icons-material/AddToHomeScreen\";\nimport VpnKeyIcon from \"@mui/icons-material/VpnKey\";\nimport DateRangeIcon from \"@mui/icons-material/DateRange\";\nimport { useAppSelector, useAppDispatch } from \"../../store/hooks\";\nimport MessageIcon from \"@mui/icons-material/Message\";\nimport HomeIcon from \"@mui/icons-material/Home\";\nimport { usersActions } from \"../../store/userSlice\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport DialogUndoingBox from \"./DialogUndoingBox\";\nimport DriveFileRenameOutlineIcon from \"@mui/icons-material/DriveFileRenameOutline\";\n\nconst Layout = (props: { children: React.ReactFragment }) => {\n  const [open, setOpen] = useState(false);\n  const { t } = useTranslation(\"main\");\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n  const dispatch = useAppDispatch();\n  let navigate = useNavigate();\n  const reduxUser: string = useAppSelector((state) => state.user);\n  const reduxIsLoggedIn = useAppSelector((state) => state.isLoggedIn);\n  const [openBox, setOpenBox] = useState(false);\n\n  const dialogClickHandler = () => {\n    setOpenBox(true);\n  };\n\n  const dialogCloseHandler = () => {\n    setOpenBox(false);\n  };\n\n  const style: React.CSSProperties = {\n    margin: 0,\n    top: \"auto\",\n    right: 20,\n    bottom: 20,\n    left: \"auto\",\n    position: \"fixed\",\n  };\n\n  const actions = [\n    reduxIsLoggedIn\n      ? { icon: <LogoutIcon />, name: t(`Layout.iconText-logout`) }\n      : { icon: <LoginIcon />, name: t(`Layout.iconText-login`) },\n    !reduxIsLoggedIn\n      ? { icon: <AddToHomeScreenIcon />, name: t(`Layout.iconText-signin`) }\n      : null,\n    reduxIsLoggedIn\n      ? { icon: <VpnKeyIcon />, name: t(`Layout.iconText-changepw`) }\n      : null,\n    reduxIsLoggedIn\n      ? { icon: <MessageIcon />, name: t(`Loginform.input-messageLog`) }\n      : null,\n    reduxIsLoggedIn\n      ? {\n          icon: <DriveFileRenameOutlineIcon />,\n          name: t(`Layout.iconText-changeNickname`),\n        }\n      : null,\n    reduxIsLoggedIn\n      ? { icon: <HomeIcon />, name: t(`Loginform.input-home`) }\n      : null,\n  ].filter(Boolean);\n\n  const logoutHandler = () => {\n    dispatch(usersActions.updateIdToken(\"\"));\n    dispatch(usersActions.updateIsLoggedIn(false));\n    dispatch(usersActions.updateUser(\"\"));\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"isLoggedIn\");\n    localStorage.removeItem(\"user\");\n    navigate(\"/login\");\n  };\n\n  console.log(reduxUser);\n  return (\n    <div>\n      <MainNavigation />\n      <Box\n        sx={{\n          flexGrow: 1,\n        }}\n      >\n        <main>{props.children}</main>\n        <SpeedDial\n          ariaLabel=\"SpeedDial tooltip example\"\n          style={style}\n          icon={<SpeedDialIcon />}\n          onClose={handleClose}\n          onOpen={handleOpen}\n          open={open}\n        >\n          {actions.map((action) => (\n            <SpeedDialAction\n              key={action?.name}\n              icon={action?.icon}\n              tooltipTitle={action?.name}\n              tooltipOpen\n              onClick={() => {\n                if (action?.name === \"LogIn\" || action?.name === \"로그인\") {\n                  navigate(\"/login\");\n                } else if (\n                  action?.name === \"LogOut\" ||\n                  action?.name === \"로그아웃\"\n                ) {\n                  logoutHandler();\n                } else if (\n                  action?.name === \"SingIn\" ||\n                  action?.name === \"가입하기\"\n                ) {\n                  navigate(\"/signin\");\n                } else if (\n                  action?.name === \"Change Password\" ||\n                  action?.name === \"비밀번호 변경\"\n                ) {\n                  navigate(\"/changepassword\");\n                } else if (\n                  action?.name === \"Message Log\" ||\n                  action?.name === \"메세지 로그\"\n                ) {\n                  navigate(\"/msglog\");\n                } else if (action?.name === \"Home\" || action?.name === \"홈\") {\n                  navigate(\"/initialpage\");\n                } else if (action?.name === \"Undoing Box\") {\n                  dialogClickHandler();\n                } else if (\n                  action?.name === \"닉네임 변경\" ||\n                  action?.name === \"Change Nickname\"\n                ) {\n                  navigate(\"/updateusername\");\n                }\n                handleClose();\n              }}\n            />\n          ))}\n        </SpeedDial>\n      </Box>\n      <DialogUndoingBox open={openBox} close={dialogCloseHandler} />\n    </div>\n  );\n};\n\nexport default Layout;\n"]},"metadata":{},"sourceType":"module"}