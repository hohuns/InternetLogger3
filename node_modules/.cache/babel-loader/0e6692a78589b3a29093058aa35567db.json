{"ast":null,"code":"import _slicedToArray from \"/Users/sungjaejoo/Desktop/\\u1105\\u1175\\u110B\\u1162\\u11A8\\u1110\\u1173/\\u110B\\u1175\\u11AB\\u1110\\u1165\\u1105\\u1169\\u1100\\u1165/\\u1100\\u1175\\u11BA\\u1112\\u1165\\u1107\\u1173/ILP-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport areArraysEqual from '../utils/areArraysEqual';\n/**\n * Gets the current state. If the selectedValue is controlled,\n * the `value` prop is the source of truth instead of the internal state.\n */\n\nfunction getControlledState(internalState, props) {\n  if (props.value !== undefined) {\n    return _extends({}, internalState, {\n      selectedValue: props.value\n    });\n  }\n\n  return internalState;\n}\n\nfunction areOptionsEqual(option1, option2, optionComparer) {\n  if (option1 === option2) {\n    return true;\n  }\n\n  if (option1 === null || option2 === null) {\n    return false;\n  }\n\n  return optionComparer(option1, option2);\n}\n/**\n * Triggers change event handlers when reducer returns changed state.\n */\n\n\nfunction useStateChangeDetection(nextState, internalPreviousState, propsRef) {\n  React.useEffect(function () {\n    if (!propsRef.current) {\n      return;\n    }\n\n    var previousState = getControlledState(internalPreviousState, propsRef.current);\n    var _propsRef$current2 = propsRef.current,\n        multiple = _propsRef$current2.multiple,\n        optionComparer = _propsRef$current2.optionComparer;\n\n    if (multiple) {\n      var _previousState$select;\n\n      var previousSelectedValues = (_previousState$select = previousState == null ? void 0 : previousState.selectedValue) != null ? _previousState$select : [];\n      var nextSelectedValues = nextState.selectedValue;\n      var onChange = propsRef.current.onChange;\n\n      if (!areArraysEqual(nextSelectedValues, previousSelectedValues, optionComparer)) {\n        onChange == null ? void 0 : onChange(nextSelectedValues);\n      }\n    } else {\n      var previousSelectedValue = previousState == null ? void 0 : previousState.selectedValue;\n      var nextSelectedValue = nextState.selectedValue;\n      var _onChange = propsRef.current.onChange;\n\n      if (!areOptionsEqual(nextSelectedValue, previousSelectedValue, optionComparer)) {\n        _onChange == null ? void 0 : _onChange(nextSelectedValue);\n      }\n    }\n  }, [nextState.selectedValue, internalPreviousState, propsRef]);\n  React.useEffect(function () {\n    if (!propsRef.current) {\n      return;\n    } // Fires the highlightChange event when reducer returns changed `highlightedValue`.\n\n\n    if (!areOptionsEqual(internalPreviousState.highlightedValue, nextState.highlightedValue, propsRef.current.optionComparer)) {\n      var _propsRef$current, _propsRef$current$onH;\n\n      (_propsRef$current = propsRef.current) == null ? void 0 : (_propsRef$current$onH = _propsRef$current.onHighlightChange) == null ? void 0 : _propsRef$current$onH.call(_propsRef$current, nextState.highlightedValue);\n    }\n  }, [nextState.highlightedValue, internalPreviousState.highlightedValue, propsRef]);\n}\n\nexport default function useControllableReducer(internalReducer, externalReducer, props) {\n  var _ref;\n\n  var value = props.value,\n      defaultValue = props.defaultValue;\n  var propsRef = React.useRef(props);\n  propsRef.current = props;\n  var initialSelectedValue = (_ref = value === undefined ? defaultValue : value) != null ? _ref : props.multiple ? [] : null;\n  var initalState = {\n    highlightedValue: null,\n    selectedValue: initialSelectedValue\n  };\n  var combinedReducer = React.useCallback(function (state, action) {\n    if (externalReducer) {\n      return externalReducer(getControlledState(state, propsRef.current), action);\n    }\n\n    return internalReducer(getControlledState(state, propsRef.current), action);\n  }, [externalReducer, internalReducer, propsRef]);\n\n  var _React$useReducer = React.useReducer(combinedReducer, initalState),\n      _React$useReducer2 = _slicedToArray(_React$useReducer, 2),\n      nextState = _React$useReducer2[0],\n      dispatch = _React$useReducer2[1];\n\n  var previousState = React.useRef(initalState);\n  React.useEffect(function () {\n    previousState.current = nextState;\n  }, [previousState, nextState]);\n  useStateChangeDetection(nextState, previousState.current, propsRef);\n  return [getControlledState(nextState, propsRef.current), dispatch];\n}","map":{"version":3,"sources":["/Users/sungjaejoo/Desktop/리액트/인터로거/깃허브/ILP-main/node_modules/@mui/base/ListboxUnstyled/useControllableReducer.js"],"names":["_extends","React","areArraysEqual","getControlledState","internalState","props","value","undefined","selectedValue","areOptionsEqual","option1","option2","optionComparer","useStateChangeDetection","nextState","internalPreviousState","propsRef","useEffect","current","previousState","multiple","_previousState$select","previousSelectedValues","nextSelectedValues","onChange","previousSelectedValue","nextSelectedValue","highlightedValue","_propsRef$current","_propsRef$current$onH","onHighlightChange","call","useControllableReducer","internalReducer","externalReducer","_ref","defaultValue","useRef","initialSelectedValue","initalState","combinedReducer","useCallback","state","action","useReducer","dispatch"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport areArraysEqual from '../utils/areArraysEqual';\n/**\n * Gets the current state. If the selectedValue is controlled,\n * the `value` prop is the source of truth instead of the internal state.\n */\n\nfunction getControlledState(internalState, props) {\n  if (props.value !== undefined) {\n    return _extends({}, internalState, {\n      selectedValue: props.value\n    });\n  }\n\n  return internalState;\n}\n\nfunction areOptionsEqual(option1, option2, optionComparer) {\n  if (option1 === option2) {\n    return true;\n  }\n\n  if (option1 === null || option2 === null) {\n    return false;\n  }\n\n  return optionComparer(option1, option2);\n}\n/**\n * Triggers change event handlers when reducer returns changed state.\n */\n\n\nfunction useStateChangeDetection(nextState, internalPreviousState, propsRef) {\n  React.useEffect(() => {\n    if (!propsRef.current) {\n      return;\n    }\n\n    const previousState = getControlledState(internalPreviousState, propsRef.current);\n    const {\n      multiple,\n      optionComparer\n    } = propsRef.current;\n\n    if (multiple) {\n      var _previousState$select;\n\n      const previousSelectedValues = (_previousState$select = previousState == null ? void 0 : previousState.selectedValue) != null ? _previousState$select : [];\n      const nextSelectedValues = nextState.selectedValue;\n      const onChange = propsRef.current.onChange;\n\n      if (!areArraysEqual(nextSelectedValues, previousSelectedValues, optionComparer)) {\n        onChange == null ? void 0 : onChange(nextSelectedValues);\n      }\n    } else {\n      const previousSelectedValue = previousState == null ? void 0 : previousState.selectedValue;\n      const nextSelectedValue = nextState.selectedValue;\n      const onChange = propsRef.current.onChange;\n\n      if (!areOptionsEqual(nextSelectedValue, previousSelectedValue, optionComparer)) {\n        onChange == null ? void 0 : onChange(nextSelectedValue);\n      }\n    }\n  }, [nextState.selectedValue, internalPreviousState, propsRef]);\n  React.useEffect(() => {\n    if (!propsRef.current) {\n      return;\n    } // Fires the highlightChange event when reducer returns changed `highlightedValue`.\n\n\n    if (!areOptionsEqual(internalPreviousState.highlightedValue, nextState.highlightedValue, propsRef.current.optionComparer)) {\n      var _propsRef$current, _propsRef$current$onH;\n\n      (_propsRef$current = propsRef.current) == null ? void 0 : (_propsRef$current$onH = _propsRef$current.onHighlightChange) == null ? void 0 : _propsRef$current$onH.call(_propsRef$current, nextState.highlightedValue);\n    }\n  }, [nextState.highlightedValue, internalPreviousState.highlightedValue, propsRef]);\n}\n\nexport default function useControllableReducer(internalReducer, externalReducer, props) {\n  var _ref;\n\n  const {\n    value,\n    defaultValue\n  } = props;\n  const propsRef = React.useRef(props);\n  propsRef.current = props;\n  const initialSelectedValue = (_ref = value === undefined ? defaultValue : value) != null ? _ref : props.multiple ? [] : null;\n  const initalState = {\n    highlightedValue: null,\n    selectedValue: initialSelectedValue\n  };\n  const combinedReducer = React.useCallback((state, action) => {\n    if (externalReducer) {\n      return externalReducer(getControlledState(state, propsRef.current), action);\n    }\n\n    return internalReducer(getControlledState(state, propsRef.current), action);\n  }, [externalReducer, internalReducer, propsRef]);\n  const [nextState, dispatch] = React.useReducer(combinedReducer, initalState);\n  const previousState = React.useRef(initalState);\n  React.useEffect(() => {\n    previousState.current = nextState;\n  }, [previousState, nextState]);\n  useStateChangeDetection(nextState, previousState.current, propsRef);\n  return [getControlledState(nextState, propsRef.current), dispatch];\n}"]},"metadata":{},"sourceType":"module"}